plugins {
    id 'java'
    id 'application'
}

mainClassName = "com.github.pierdipi.jwatchk8s.Main"

group 'com.github.pierdipi'
version '1.0-SNAPSHOT'

sourceCompatibility = 11

repositories {
    jcenter()
    mavenCentral()
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.12'

    // compile group: 'io.kubernetes', name: 'client-java', version: '8.0.0' // weird error messages

    compile 'io.fabric8:kubernetes-client:4.10.1'
    compile 'io.fabric8:knative-client:4.10.1'
}

jar {
    manifest {
        attributes(
                'Main-Class': 'com.github.pierdipi.jwatchk8s.Main'
        )
    }
    from(configurations.compile.collect { entry -> zipTree(entry) }) {
        exclude 'META-INF/MANIFEST.MF'
        exclude 'META-INF/*.SF'
        exclude 'META-INF/*.DSA'
        exclude 'META-INF/*.RSA'
    }
}

